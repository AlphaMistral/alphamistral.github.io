<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="null">
    <meta name="keyword" content="null">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-person-128.png">
    <link rel="alternate" type="application/atom+xml" title="Weymire" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        SSAOåŠå…¶ä¼˜åŒ–ï½œWeymire&#39;s Blog
        
    </title>

    <link rel="canonical" href="http://www.weymire.com/2017/02/10/essay1/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<style>

    header.intro-header {
        background-image: url('//o7bkkhiex.bkt.clouddn.com/lion-blur-bg.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    Weymire
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="http://ol56no7p4.bkt.clouddn.com/essay1.png">


<style>
    
    header.intro-header {
        background-image: url('http://ol56no7p4.bkt.clouddn.com/essay1.png?imageView2/1/w/1400/h/400/interlace/1/q/90')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>SSAOåŠå…¶ä¼˜åŒ–</h1>
                    
                    <span class="meta">
                         ä½œè€… Jingping Yu
                        <span>
                          æ—¥æœŸ 2017-02-10
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            SSAOåŠå…¶ä¼˜åŒ–
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <p>æœ¬æ–‡åŒæ—¶ä¹Ÿå‘è¡¨åœ¨æˆ‘çš„<a href="https://zhuanlan.zhihu.com/p/25038820?refer=MeowShader" target="_blank" rel="external">çŸ¥ä¹ä¸“æ </a>ä¸ŠğŸ˜„.
ä½œè€…ï¼šéŸ³é€Ÿé”®ç›˜çŒ«
é“¾æ¥ï¼šhttps://zhuanlan.zhihu.com/p/25038820
æ¥æºï¼šçŸ¥ä¹
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h2>ä½•ä¸ºSSAO</h2>
<p>Screen Space Ambient Occlusion (ä»¥ä¸‹ç®€ç§°SSAO), å±å¹•ç©ºé—´ç¯å¢ƒå…‰é®è”½. åœ¨å…·ä½“ä»‹ç»SSAOä¹‹å‰, æœ¬æ–‡å…ˆä»‹ç»æ›´åŠ å¹¿ä¹‰çš„Ambient Occlusion (AO).</p>
<p>ç®€å•æ¥è¯´, Ambient Occlusion(ä»¥ä¸‹ç®€ç§°&quot;AO&quot;)æ˜¯ä¸€ç§åŸºäºå…¨å±€ç…§æ˜ä¸­çš„ç¯å¢ƒå…‰(Ambient Light)å‚æ•°å’Œç¯å¢ƒå‡ ä½•ä¿¡æ¯æ¥è®¡ç®—åœºæ™¯ä¸­ä»»ä½•ä¸€ç‚¹çš„<strong>å…‰ç…§å¼ºåº¦ç³»æ•°</strong>çš„ç®—æ³•. AOæè¿°äº†è¡¨é¢ä¸Šçš„ä»»ä½•ä¸€ç‚¹æ‰€æ¥å—åˆ°çš„ç¯å¢ƒå…‰è¢«å‘¨å›´å‡ ä½•ä½“æ‰€é®è”½çš„ç™¾åˆ†æ¯”, å› æ­¤ä½¿å¾—æ¸²æŸ“çš„ç»“æœæ›´åŠ å¯Œæœ‰å±‚æ¬¡æ„Ÿ, å¯¹æ¯”åº¦æ›´é«˜.
<img src="/image/essay1/1.png" alt=""></p>
<p>å›¾ç‰‡æ¥è‡ªWiki. å› ä¸ºè€äººçš„çš±çº¹å¤„å¯¹å¤–ç•Œæš´éœ²çš„éƒ¨åˆ†è¾ƒå°‘, ä½¿ç”¨AOåè¢«é®è”½çš„éƒ¨åˆ†è¾ƒå¤š, æ¸²æŸ“åæ˜¾å¾—æ›´åŠ æš—ä¸€äº›, å¢åŠ äº†çš±çº¹çš„å±‚æ¬¡æ„Ÿå’Œè´¨æ„Ÿ.
AOçš„è®¡ç®—å…¬å¼å¦‚ä¸‹:
<span>$$\begin{aligned}
AO(p, n\_{p}) = \frac {1} {\pi} \int _{\Omega}V(p, \omega)max( n\_{p} * \omega, 0 )d\omega
\end{aligned}$$</span><!-- Has MathJax --></p>
<p>$n_{p}$ä»£è¡¨$p$çš„æ³•çº¿, $\omega$ä»£è¡¨ç‚¹$p$åˆ‡å¹³é¢æ­£æ–¹å‘çš„ä»»æ„å•ä½å‘é‡, $V(p, \omega)$æ˜¯å¯è§å‡½æ•°, å¦‚æœç‚¹$p$åœ¨$\omega$æ–¹å‘<strong>è¢«é®æŒ¡åˆ™ä¸º1, å¦åˆ™ä¸º0</strong>.</p>
<p>ç”±æ­¤å¯è§, è®¡ç®—AOç³»æ•°æ˜¯ä¸€ä¸ªé¢‡ä¸ºæ˜‚è´µçš„æ“ä½œ. ä¸€èˆ¬ç¦»çº¿æ¸²æŸ“å™¨éƒ½ä¼šé‡‡ç”¨Ray-Tracing(å…‰çº¿è¿½è¸ª)æˆ–æ˜¯ç®€åŒ–çš„Ray-Marching(æ‰€è°“å…‰çº¿è¡Œè¿›)ç®—æ³•, æ¨¡æ‹Ÿè‹¥å¹²æ¡å°„çº¿ä»¥è®¡ç®—é®è”½ç™¾åˆ†æ¯”. å¾ˆæ˜æ˜¾è¿™ç§æ–¹å¼ä¸å¯èƒ½åº”ç”¨åˆ°å®æ—¶å›¾å½¢æ¸²æŸ“ä¸­. å°½ç®¡ç›®å‰æœ‰ä¸€äº›å®æ—¶è®¡ç®—AOçš„æ–°æŠ€æœ¯, ä½†æ˜¯å…¶æ€§èƒ½è·ç¦»æ™®åŠè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°.</p>
<p><img src="/image/essay1/2.png" alt=""></p>
<p>ä¸Šå›¾ä¸ºåŸºäºRay-Tracingçš„AOè®¡ç®—æ¨¡å‹. çº¢è‰²çš„å°„çº¿è¡¨ç¤ºV = 1, ç»¿è‰²çš„å°„çº¿è¡¨ç¤ºV = 0.</p>
<p>é‚£ä¹ˆæˆ‘ä»¬èƒ½å¦Trade Off, ç”¨å·®ä¸€ç‚¹çš„æ¸²æŸ“ç»“æœæ¥è·å¾—æ›´é«˜çš„è¿è¡Œæ•ˆç‡å‘¢? ç­”æ¡ˆæ˜¯è‚¯å®šçš„, è€Œä¸”æ–¹æ³•è¿˜è¿œä¸æ­¢ä¸€ç§. æœ¬æ–‡å°†é‡ç‚¹æ”¾åœ¨SSAOä¸Š.</p>
<p>é¡¾åæ€ä¹‰, &quot;Screen Space&quot;æ„å‘³ç€SSAOå¹¶ä¸æ˜¯åœºæ™¯çš„é¢„å¤„ç†, è€Œæ˜¯å±å¹•åæœŸå¤„ç†. å…¶åŸç†æ˜¯åœ¨ç‰‡å…ƒç€è‰²å™¨ä¸­å¯¹äºå±å¹•ä¸Šçš„æ¯ä¸ªåƒç´ æ¨¡æ‹Ÿè‹¥å¹²ä¸ªä½ç½®éšæœºçš„é‡‡æ ·ç‚¹, ç”¨è¢«é®è”½çš„é‡‡æ ·ç‚¹æ•°é‡ç™¾åˆ†æ¯”æ¥è¿‘ä¼¼è¡¨ç¤ºå…‰ç…§å¼ºåº¦ç³»æ•°.</p>
<h2>SSAOçš„å®ç°</h2>
<p>SSAOçš„å®ç°å¯åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤: è®¡ç®—AO, æ¨¡ç³Š/æ»¤æ³¢, ä¸Color Bufferæ··åˆ.</p>
<h3>è®¡ç®—AO</h3>
<p>è®¡ç®—AOçš„æ ¸å¿ƒé—®é¢˜åœ¨äºå¦‚ä½•å–é‡‡æ ·ç‚¹å¹¶åˆ¤æ–­è¿™äº›é‡‡æ ·ç‚¹æ˜¯å¦è¢«é®è”½. æˆ‘ä»¬é¦–å…ˆè§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜. åœ¨æ­¤æˆ‘ä»¬ä½¿ç”¨ä¸€ç§æŒ‡å‘æ³•çº¿æ–¹å‘çš„åŠçƒå½¢é‡‡æ ·å—(Sample Kernel), å¹¶åœ¨é‡‡æ ·å—ä¸­ç”Ÿæˆé‡‡æ ·ç‚¹. è·ç¦»åŸç‚¹è¶Šè¿œçš„ç‚¹, AOè´¡çŒ®è¶Šå°. é‡‡æ ·å—å¦‚ä¸‹å›¾æ‰€ç¤º:
<img src="/image/essay1/3.png" alt="">
é‚£ä¹ˆæˆ‘ä»¬è½¬å…¥ç¬¬äºŒä¸ªé—®é¢˜: å¦‚ä½•åˆ¤æ–­ä¸‹å›¾ä¸­çš„é‡‡æ ·ç‚¹é®è”½æƒ…å†µå‘¢?
<img src="/image/essay1/4.jpg" alt="">
(æ¶‚é»‘çš„ç‚¹å¤„åœ¨å‡ ä½•ä½“è¡¨é¢å†…éƒ¨, å› æ­¤åˆ¤å®šä¸ºè¢«é®è”½)</p>
<p>ä¸€ç§æ–¹æ³•æ˜¯å°†é‡‡æ ·ç‚¹å…¨éƒ¨æŠ•å½±åˆ°View Planeä¸Š, ç›¸å½“äºè·å–é‡‡æ ·ç‚¹çš„UVåæ ‡, å¹¶åŒæ—¶è·å–Depth Bufferä¸­è¯¥UVåæ ‡å¤„çš„æ·±åº¦å€¼. éšåæ¯”è¾ƒé‡‡æ ·ç‚¹çš„æ·±åº¦å’Œåœºæ™¯ä¸­è¯¥ç‚¹çš„æ·±åº¦. å¦‚æœé‡‡æ ·ç‚¹çš„æ·±åº¦æ›´å¤§, è¯´æ˜å…¶è¢«åœºæ™¯é®è”½. æœ€ç»ˆå°†æ‰€æœ‰é‡‡æ ·ç‚¹çš„AOè´¡çŒ®æ±‚å’Œ, å³æ˜¯è¯¥ç‚¹çš„AOå€¼. è®¡ç®—å…¬å¼å¦‚ä¸‹:</p>
<p>$$
AO_{n}(p) = \frac {1} {n} C(p, s_{i})
$$
$$
C(p, s_{i}) = V(p, s_{i})cos(s_{i}-p, n_{p})D(s_{i}-p)
$$
å…¶ä¸­, å‡½æ•°Vå‰é¢å·²ç»ä»‹ç»è¿‡. å‡½æ•°Dæ˜¯ä¸€ä¸ª[0, 1]ä¹‹é—´çš„å•è°ƒé€’å‡å‡½æ•°, è·ç¦»åŸç‚¹è¶Šè¿‘çš„é‡‡æ ·ç‚¹å¯¹AOçš„è´¡çŒ®è¶Šå¤§. ä¸€èˆ¬ä½¿ç”¨æŒ‡æ•°å‡½æ•°.
<img src="/image/essay1/5.png" alt="">
ä¸Šå›¾ä¸ºåŸå›¾
<img src="/image/essay1/6.png" alt="">
ä¸Šå›¾ä¸ºæ±‚å¾—çš„AOå€¼. é¢œè‰²è¶Šæ·±ä»£è¡¨AOè¶Šå¤§.
ä»¥ä¸‹æ˜¯å¾ªç¯é‡‡æ ·éƒ¨åˆ†ä»£ç (iiä¸ºå¾ªç¯å˜é‡):
<figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line">half3 randomDirection = RandomSample[ ii ];</div><div class="line">float2 uv_offset = randomDirection.xy * scale;</div><div class="line"></div><div class="line"><span class="keyword">float</span> randomDepth = depth - ( randomDirection.z * _Radius );</div><div class="line"></div><div class="line"><span class="keyword">float</span> sampleDepth;</div><div class="line">float3 sampleNormal;</div><div class="line"></div><div class="line">DecodeDepthNormal ( tex2D ( _CameraDepthNormalsTexture, i.uv + uv_offset ), sampleDepth, sampleNormal );</div><div class="line"></div><div class="line">sampleDepth *= _ProjectionParams.z;</div><div class="line"></div><div class="line"><span class="keyword">float</span> diff =  saturate( randomDepth - sampleDepth );</div><div class="line"><span class="keyword">if</span> ( diff &gt; _ZDiff )</div><div class="line">occlusionAmount += <span class="built_in">pow</span> (<span class="number">1</span> - diff, _Attenuation);</div></pre></td></tr></table></figure></p>
<p>åˆ°æ­¤æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜: ä¸Šé¢æ±‚å¾—çš„AOç»“æœéå¸¸ä¸ç†æƒ³. å›¾ä¸­æœ‰éå¸¸æ˜æ˜¾çš„æ¡å¸¦çŠ¶é˜´å½±, ç»™äººçš„æ„Ÿè§‰åƒæ˜¯åœ¨å›¾ä¸Šè½»è½»åœ°æŠ¹äº†ä¸€å±‚å‡åŒ€çš„æ²¹æ¼†. äº§ç”Ÿè¿™ç§ç°è±¡çš„åŸå› å¾ˆç®€å• - ä¸ºäº†æ»¡è¶³å®æ—¶æ¸²æŸ“çš„æ€§èƒ½è¦æ±‚, æˆ‘ä»¬å¿…é¡»é™åˆ¶é‡‡æ ·ç‚¹çš„æ•°ç›®.</p>
<p>ä½†æ˜¯, å¯¹äºè¿™ç§ç°è±¡æˆ‘ä»¬æœ‰ä¸€ä¸ªTrick ---- å¯ä»¥å¼•å…¥å™ªå£°, å°†æ¯ä¸ªé‡‡æ ·ç‚¹ä»¥åŸç‚¹æ³•çº¿æ–¹å‘ä¸ºæ—‹è½¬è½´æ—‹è½¬éšæœºçš„è§’åº¦. è¿™æ ·çš„æ–°é‡‡æ ·ç‚¹ä¼šå˜å¾—æå…¶ä¸è§„åˆ™, æ›´åŠ ç¦»æ•£åŒ–. å°†ä½é¢‘çš„æ¡çº¹è½¬åŒ–æˆé«˜é¢‘çš„å™ªå£°.</p>
<p><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line">half3 randomVector = tex2D ( _RandomTexture, i.uv_random ).xyz * <span class="number">2.0</span> - <span class="number">1.0</span>;</div><div class="line">half3 randomDirection = reflect ( RandomSample[ ii ], randomVector );</div></pre></td></tr></table></figure></p>
<p><img src="/image/essay1/7.png" alt="">
ä¸Šå›¾ä¸ºå¼•å…¥éšæœºå™ªå£°åçš„é‡‡æ ·ç»“æœ. æˆ‘ä»¬å‘ç°&quot;æ²¹æ¼†&quot;å˜æˆäº†&quot;æ²™å­&quot;.</p>
<h3>æ¨¡ç³Š/æ»¤æ³¢</h3>
<p>&quot;æ²¹æ¼†&quot;å¥½è¿˜æ˜¯&quot;æ²™å­&quot;å¥½?
éƒ½ä¸å¥½!
æ²¹æ¼†&quot;æ˜¾å¾—å¹³æ·¡æ— å¥‡, &quot;æ²™å­&quot;è®©äººçœ¼èŠ±ç¼­ä¹±. ä¸­å›½äººè®²ç©¶ä¸­åº¸ä¹‹é“, ä¹Ÿå°±æ˜¯è¯´ ---- æˆ‘ä»¬éœ€è¦ä¸€ä¸ª&quot;ä¸­é¢‘&quot;çš„AO!</p>
<p>åœ¨æ­¤ä»‹ç»ä¸¤ç§æ–¹æ³•. ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥æ¨¡ç³Š. æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯é«˜æ–¯æ¨¡ç³Š. å…³äºé«˜æ–¯æ¨¡ç³Šçš„èµ„æ–™æœ‰å¾ˆå¤š, æœ¬æ–‡ä¸å†èµ˜è¿°.</p>
<p>ç¬¬äºŒç§æ–¹æ³•åœ¨é‡‡æ ·åŸç†ä¸Šå’Œé«˜æ–¯æ¨¡ç³Šåˆ«æ— äºŒè‡´, åªæ˜¯é‡‡æ ·ç³»æ•°ç”±é™æ€å˜ä¸ºåŠ¨æ€: åŸç‚¹ä¸é‡‡æ ·ç‚¹çš„UVåæ ‡è·ç¦», æ³•çº¿å’Œæ·±åº¦å…³ç³»å…±åŒå†³å®šé‡‡æ ·ç³»æ•°, è·ç¦»è¶Šè¿œé‡‡æ ·ç³»æ•°è¶Šå°, æ³•çº¿å’Œæ·±åº¦çš„å·®è·è¶Šå¤§åˆ™é‡‡æ ·ç³»æ•°ä¹Ÿè¶Šå¤§. è¿™æ ·çš„æ¨¡ç³Šä½¿å¾—ç»“æœæ›´åŠ è¶‹è¿‘äºä¸­é¢‘, è¿›ä¸€æ­¥å‡å¼±äº†é—ªçƒ(Flickering)çš„æ•ˆæœ.</p>
<h3>ä¸ColorBufferæ··åˆ</h3>
<p>ä¸€èˆ¬åŠ å…¥Gamma Correctionä½¿å¾—é˜´å½±æ›´æœ‰å±‚æ¬¡æ„Ÿ, å³æœ€ç»ˆç»“æœä¸º:
<figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line">tex2D ( _MainTex, i.uv ) * <span class="built_in">pow</span> ( ( <span class="number">1</span> - occlusion ), <span class="number">2.2</span> );</div></pre></td></tr></table></figure></p>
<p><img src="/image/essay1/8.png" alt=""></p>
<p>ä¸Šå›¾ä¸ºSSAOå¤„ç†åçš„æœ€ç»ˆç»“æœ.</p>
<h2>SSAOçš„é—®é¢˜ä¸ä¼˜åŒ–ç­–ç•¥</h2>
<p>SSAOæŠ€æœ¯çš„åŸºæœ¬åŸç†å·²ç»ä»‹ç»å®Œäº†, ä¸‹é¢æˆ‘ä»¬æ¥è°ˆè°ˆSSAOå¯èƒ½é‡åˆ°çš„é—®é¢˜, ä»¥åŠç›¸åº”çš„è§£å†³æ–¹æ¡ˆ:</p>
<h3>1. é‡‡æ ·å—çš„é—®é¢˜</h3>
<p>ä¸Šæ–‡çš„SSAOå®ç°æ–¹æ¡ˆå…¶å®æ˜¯å‡å®šäº†ä½¿ç”¨Deferred Rendering, æ·±åº¦å’Œæ³•çº¿éƒ½å¯ä»¥éå¸¸å®¹æ˜“å¾—è·å–åˆ°, å› æ­¤æˆ‘ä»¬çš„åŠçƒå½¢é‡‡æ ·å—å¯ä»¥æ²¿ç€é¡¶ç‚¹çš„æ³•çº¿æ–¹å‘æ‘†æ”¾. ä½†æ˜¯å¦‚æœè·å–æ³•çº¿æ¯”è¾ƒå›°éš¾, æˆ‘ä»¬å¯ä»¥å°†åŠçƒå½¢é€€åŒ–æˆçƒå½¢, è¿™ä¹Ÿæ­£æ˜¯2007å¹´Crysisä¸­SSAOçš„å®ç°æ–¹æ¡ˆ.</p>
<p><img src="/image/essay1/9.jpg" alt="">
å¦‚ä¸Šå›¾æ‰€ç¤º, é‡‡æ ·å—çš„æ‘†æ”¾ä¸æ³•çº¿æ— å…³, é‡‡æ ·ç‚¹éå¸ƒæ•´ä¸ªçƒå½¢ä¸­. è¿™ç§æ–¹æ³•çš„æ•ˆæœè‡ªç„¶ä¸å¦‚åŠçƒå½¢é‡‡æ ·å—.</p>
<p>###2. é‡å¤è®¡ç®—çš„é—®é¢˜
SSAOæœ€ä¸ºè€—æ—¶çš„æ“ä½œæ˜¯æ¨¡æ‹Ÿå¤šä¸ªé‡‡æ ·ç‚¹å¹¶è®¡ç®—å…¶AOè´¡çŒ®å€¼, å› æ­¤æˆ‘ä»¬åº”è¯¥æƒ³åŠæ³•é¿å…é‡å¤è®¡ç®—, å°½é‡ä½¿ç”¨ä»¥å‰çš„ç»“æœ. è¿™é‡Œå¯ä»¥ä½¿ç”¨Reverse Reprojection(åå‘äºŒæ¬¡æŠ•å½±), ä¿å­˜ä¸Šä¸€å¸§çš„AOè®¡ç®—ä¿¡æ¯, ä½¿å¾—å½“å‰å¸§ä¸­ç›¸å¯¹ä¸Šä¸€å¸§æ²¡æœ‰å˜åŒ–çš„ç‚¹å¯ä»¥åˆ©ç”¨æ—§çš„AOä¿¡æ¯, é¿å…é‡å¤è®¡ç®—. è¿™ç§æ–¹å¼ç§°ä¸ºSSAO with Temporal Coherence(æ—¶é—´ç›¸å¹²æ€§), ç®€ç§°ä¸ºTSSAO. å…·ä½“çš„å®ç°æ–¹å¼å°†åœ¨ä¸‹æ–‡ä¸­è¿›è¡Œé˜è¿°.</p>
<h3>æ»¤æ³¢ä¸ç²¾ç¡®è®¡ç®—ä¹‹é—´çš„çŸ›ç›¾</h3>
<p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªTrade Off ---- åæ­£è¿ç®—ç»“æœéƒ½æ˜¯è¦å¥—ç”¨æ»¤æ³¢æ¥è¿‡æ»¤æ‰å™ªç‚¹, é‚£ä¹ˆæœ€å¼€å§‹è®¡ç®—çš„æ—¶å€™å°±å¯ä»¥æƒ³åŠæ³•åœ¨ä¿è¯è´¨é‡ä¸å—å¤ªå¤§å½±å“çš„å‰æä¸‹, å°½é‡æå‡æ•ˆç‡. ä¸¾ä¸€ä¸ªä¾‹å­:</p>
<p>å‡è®¾æœ‰ä¸¤ä¸ªé¢é¥¼å¸ˆå‚…, ç¬¬ä¸€ä¸ªå¸ˆå‚…çš„å·¥ä½œæ˜¯æ‰å‡ºæ¥5ä¸ªç›´å¾„ä¸º1.2cmçš„é¢çƒ, ç¬¬äºŒä¸ªå¸ˆå‚…çš„å·¥ä½œæ˜¯æŠŠè¿™5ä¸ªé¢çƒæ”¾åœ¨ä¸€èµ·æ‹æˆä¸€ä¸ªé¢é¥¼.
æˆ‘ä»¬ä¸è®¨è®ºè¿™ç§å·¥ä½œæ–¹å¼æ˜¯å¦åˆç†, åªæ˜¯åœ¨æ­¤æƒ…å†µä¸‹ç¬¬ä¸€ä¸ªå¸ˆå‚…ç¡®å®ä¸ç”¨å¯¹1.2cmå¹æ¯›æ±‚ç–µ, åªè¦å·®ä¸å¤šå°±è¡Œäº†.</p>
<p>æ˜ç™½äº†è¿™ä¸ªé“ç†, å°±ä¼šå‘ç°å¯ä»¥åœ¨è®¡ç®—AOçš„æ—¶å€™ä½¿ç”¨é™é‡‡æ ·, è¿™æ ·èƒ½æˆå¹³æ–¹å€åœ°é™ä½SSAOçš„æ—¶é—´å¤æ‚åº¦. å…³äºé™é‡‡æ ·ç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æ–™, æˆ‘çš„ä¸“æ ç¬¬ä¸€ç¯‡æ–‡ç« ä¹Ÿå¯¹æ­¤æœ‰è¿‡ä»‹ç».</p>
<h2>TSSAO</h2>
<h3>1. Reverse Reprojection</h3>
<p>äº¤æ›¿ä½¿ç”¨ä¸¤å¼ Render Texture, ä¸€å¼ ä»£è¡¨å½“å‰å¸§, å¦ä¸€å¼ ä»£è¡¨ä¸Šä¸€å¸§. å¯¹äºå½“å‰å¸§ä¸Šä»»ä½•ä¸€ä¸ªPixeléƒ½å¯ä»¥æ ¹æ®å…¶UVåæ ‡é‡å»ºå…¶ä¸–ç•Œåæ ‡, ç„¶åæ ¹æ®ä¸Šä¸€å¸§çš„View-ProjectionçŸ©é˜µçš„é€†çŸ©é˜µæ¥è½¬åŒ–æˆä¸Šä¸€å¸§çš„ç›¸åº”UVåæ ‡. å¦‚æœä¸¤å¸§ä¸Šå¯¹åº”çš„Pixelçš„Depthä¸ä¸–ç•Œåæ ‡å·®è·ä¸å¤§, é‚£ä¹ˆå½“å‰å¸§å°±å¯ä»¥åˆ©ç”¨ä¸Šä¸€å¸§å¯¹åº”Pixelçš„ä¿¡æ¯, å…å»é‡å¤è®¡ç®—.</p>
<p>å¯¹äºé™æ€åœºæ™¯æˆ‘ä»¬æœ‰å¦‚ä¸‹å…¬å¼:
$$
t_{old_{x^{'}, y^{'}, z^{'}}} = P_{old}V_{old}V_{new}^{-1}P_{new}^{-1}t_{new_{x, y, z}}
$$
tè¡¨ç¤ºNDCåæ ‡, Pè¡¨ç¤ºProjectionçŸ©é˜µ, Vè¡¨ç¤ºViewçŸ©é˜µ.</p>
<p><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">inline</span> float4 <span class="title">UV2WorldPos</span><span class="params">(float2 uv, float4x4 iv)</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">float</span> depth = SAMPLE_DEPTH_TEXTURE(_CameraDepthTexture, uv);</div><div class="line">float2 invClipSize = float2(_CurP._11, _CurP._22);</div><div class="line">float2 spos = (uv * <span class="number">2</span> - <span class="number">1</span>) / invClipSize;</div><div class="line"><span class="keyword">float</span> depthEye = LinearEyeDepth(depth);</div><div class="line">    float3 vpos = float3(spos, <span class="number">-1</span>) * depthEye;</div><div class="line"><span class="keyword">return</span> mul(iv, float4(vpos, <span class="number">1.0</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> float2 <span class="title">WorldPos2UV</span><span class="params">(float4 worldPos, float4x4 vp)</span></span></div><div class="line">&#123;</div><div class="line">float4 vpos = mul(vp, worldPos);</div><div class="line">float2 projOffset = float2(_CurP._13, _CurP._23);</div><div class="line">float2 screenPos = vpos.xy / vpos.w + projOffset;</div><div class="line"><span class="keyword">return</span> <span class="number">0.5</span> * screenPos + <span class="number">0.5</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> float2 <span class="title">GetMotionVector</span><span class="params">(float2 uv)</span></span></div><div class="line">&#123;</div><div class="line">float4 worldPos = UV2WorldPos(uv, _CurIV);</div><div class="line">float2 curUv = WorldPos2UV(worldPos, _CurVP);</div><div class="line">float2 preUv = WorldPos2UV(worldPos, _PrevVP);</div><div class="line"><span class="keyword">return</span>  curUv - preUv;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯å¯¹äºåŠ¨æ€åœºæ™¯ä¸Šè¿°å…¬å¼ä¸å†æˆç«‹. å› ä¸ºSSAOè¦åšåˆ°Scene Independent, åŒæ—¶è¿˜å¿…é¡»è®°å½•å‰åä¸¤å¸§çš„å…³è”, å› æ­¤åœ¨æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªRender Textureå•ç‹¬è®°å½•æ¯ä¸ªåƒç´ åœ¨å‰ä¸€å¸§ä¸å½“å‰å¸§çš„ä¸–ç•Œåæ ‡çš„å·®. å…·ä½“çš„åŸå› è¯¦è§ä¸‹æ–‡.</p>
<h3>2. æ–°çš„AOè®¡ç®—å…¬å¼</h3>
<p>åœ¨TSSAOä¸­æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªRender Textureåˆ†åˆ«ä½œä¸ºä¸Šä¸€å¸§å’Œå½“å‰å¸§çš„AO Buffer. é¦–å…ˆè®¡ç®—å½“å‰å¸§çš„AOè´¡çŒ®å€¼:
$$
C_{t+1}(p)=\frac {1} {k} \sum _{i=n_{t}(p)+1} ^{n_{t}(p)+k}C(p, s_{i})
$$
$n_{t}(p)$è¡¨ç¤ºçš„æ˜¯ä¹‹å‰å·²ç»è®¡ç®—è¿‡çš„é‡‡æ ·ç‚¹æ•°é‡, kè¡¨ç¤ºæ¯ä¸€å¸§åº”è¯¥è®¡ç®—çš„é‡‡æ ·ç‚¹æ•°é‡.
éšå, åˆ©ç”¨å½“å‰å¸§å’Œä¸Šä¸€å¸§çš„AOè´¡çŒ®å€¼å…±åŒè®¡ç®—å½“å‰å¸§çš„AOå€¼:
$$
AO _{t+1}(p) = \frac {n_{t}(p)AO_{t}(p_{old}) + kC_{t+1}(p)} {n_{t}(p)+k}
$$
æœ€å, æ›´æ–°$n_{t}(p)$çš„å€¼
$$
n_{t+1}(p) = min(n_{t+1}(p)+k, n_{max})$$</p>
<p>åœ¨æ­¤è¯´æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦è®¾ç½®nçš„ä¸Šé™. è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªåŸå› , ç¬¬ä¸€æ˜¯å¦‚æœä¹‹å‰çš„è®¡ç®—ç»“æœä¸è€åŒ–, å½“å‰å¸§çš„AOè´¡çŒ®å€¼ä¼šè¶Šæ¥è¶Šå°, ç®—æ³•çš„ååº”ä¼šè¶Šæ¥è¶Šæ…¢. ç¬¬äºŒæ˜¯åå‘äºŒæ¬¡æŠ•å½±æœ¬èº«æ˜¯æœ‰è¯¯å·®çš„, éšç€æŠ•å½±æ¬¡æ•°çš„å¢åŠ è¯¯å·®ä¼šå˜å¾—éå¸¸å¤§, å› æ­¤å¿…é¡»é™åˆ¶è¢«ä½¿ç”¨çš„ç»“æœæ•°é‡, é€‚å½“èˆå¼ƒæ‰è¿‡è€çš„æ•°æ®.</p>
<h3>3. æ£€æµ‹ä¸åˆæ³•åƒç´ </h3>
<p>å¾ˆå®¹æ˜“æƒ³åˆ°çš„ä¸€ä¸ªåˆ¤å®šæ¡ä»¶æ˜¯æ·±åº¦æ£€æµ‹: å¦‚æœæ–°æ—§ä¸¤ä¸ªåƒç´ çš„æ·±åº¦å·®è·è¿‡å¤§, é‚£ä¹ˆè¯´æ˜åœºæ™¯ å·²ç»æ”¹å˜, å½“å‰åƒç´ çš„AOå€¼å·²ç»ä¸æ­£ç¡®, å¿…é¡»å…¨éƒ¨èˆå¼ƒ. ç›¸å¯¹æ·±åº¦å…³ç³»æ£€æµ‹æ¡ä»¶å¦‚ä¸‹:
$$
|1 - \frac {d_{new}} {d_{old}}| &lt; \epsilon
$$
ä½†æ˜¯, SSAOè€ƒè™‘çš„ä¸ä»…ä»…æ˜¯å½“å‰ç‚¹, è¿˜æœ‰å®ƒå‘¨è¾¹çš„ç¯å¢ƒ. ä¸¾ä¸€ä¸ªä¾‹å­: åœ¨ä¸€ä¸ªé™æ€çš„åœ°é¢ä¸Šæ”¾ç½®ç€ä¸€ä¸ªåŠ¨æ€çš„ç«‹æ–¹ä½“. è¿™ä¸ªç«‹æ–¹ä½“éšç€æ—¶é—´ä¸è§„åˆ™è¿åŠ¨. åœ°é¢ä¸ç«‹æ–¹ä½“åœ°é¢æ£±è¾¹çš„å¤–äº¤ç•Œå¤„çš„AOå€¼è‡ªç„¶æ˜æ˜¾é«˜å‡ºåœ°é¢ä¸Šå…¶ä»–ç‚¹çš„å€¼, ä½†æ˜¯ç«‹æ–¹ä½“çš„ç§»åŠ¨ä¼šä½¿å¾—åœ°é¢ä¸Šç›¸åº”åŒºåŸŸçš„AOå€¼ä¸å†æœ‰æ•ˆ ---- è™½ç„¶åœ°é¢æ²¡æœ‰åœ¨åŠ¨, åœ°é¢ä¸Šçš„ç‚¹èƒ½å¤Ÿé€šè¿‡æ·±åº¦å…³ç³»æ£€æµ‹.</p>
<p><img src="/image/essay1/10.png" alt=""></p>
<p>è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†å¦ä¸€ä¸ªTrick ---- æˆ‘ä»¬åœ¨è®¡ç®—å½“å‰å¸§AOçš„å¾ªç¯ä¸­å¯ä»¥åŒæ—¶åšå‡ºä»¥ä¸‹åˆ¤å®š:
$$
| | s_{i} - p | - |s_{i_{old}} - p_{old}|| &lt; \epsilon
$$
åªè¦æœ‰ä¸€ä¸ªé‡‡æ ·ç‚¹ä¸æ»¡è¶³ä¸Šè¿°æ¡ä»¶, åˆ™è¯´æ˜å…¶å¯¹åº”åŸç‚¹çš„å‘¨è¾¹ç¯å¢ƒå·²ç»å‘ç”Ÿæ”¹å˜, å…¶AOå€¼è‡ªç„¶ä¹Ÿåº”è¯¥é‡æ–°è®¡ç®—. å¯¹äº$s_{i_{old}}$çš„è®¡ç®—æ–¹æ³•ä¹Ÿå¾ˆç®€å•: æ ¹æ®$s_{i}$å’Œåœ¨ç¬¬ä¸€æ­¥ä¸­è®°å½•çš„ä¸–ç•Œåæ ‡çš„å·®å°±å¯ä»¥ç›´æ¥å¾—å‡ºäº†.</p>
<p>åªè¦åƒç´ è¢«åˆ¤å®šä¸ºä¸åˆæ³•, åˆ™å…¶$n_{t}(p)$ä¼šè¢«é‡ç½®ä¸º0, å³ä¹‹å‰çš„æ‰€æœ‰AOè¿ç®—ç»“æœå…¨éƒ¨èˆå¼ƒ.</p>
<p><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">int</span> ww = w;</div><div class="line"></div><div class="line"><span class="keyword">if</span> ( <span class="built_in">abs</span> ( <span class="number">1</span> - texelDepth / preDepth ) &gt;= EPS )</div><div class="line">ww = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="keyword">float</span> scale = _Parameters.x / depth;</div><div class="line"></div><div class="line"><span class="keyword">for</span> ( <span class="keyword">int</span> ii = <span class="number">0</span>; ii &lt; _SampleCount; ii++ )</div><div class="line">&#123;</div><div class="line">float3 randomDirection = RAND_SAMPLES [ w + ii ];</div><div class="line">randomDirection *= -sign ( dot ( texelNormal, randomDirection ) );</div><div class="line">randomDirection += texelNormal * <span class="number">0.3</span>;</div><div class="line"></div><div class="line">float2 uv_offset = randomDirection.xy * scale;</div><div class="line"></div><div class="line"><span class="keyword">float</span> randomDepth = texelDepth - randomDirection.z * _Parameters.x;</div><div class="line"></div><div class="line"><span class="keyword">float</span> sampleDepth;</div><div class="line">float3 sampleNormal;</div><div class="line"></div><div class="line">GetDepthNormal ( i.uv + uv_offset, sampleDepth, sampleNormal );</div><div class="line"></div><div class="line">sampleDepth *= _ProjectionParams.z;</div><div class="line"></div><div class="line"><span class="keyword">float</span> diff = randomDepth - sampleDepth;</div><div class="line"></div><div class="line"><span class="keyword">if</span> ( diff &gt; _Parameters.y )</div><div class="line">occlusion += saturate ( <span class="built_in">cos</span> ( dot ( randomDirection, texelNormal ) ) ) * <span class="built_in">pow</span> ( <span class="number">1</span> - diff, _Parameters.z );</div><div class="line"></div><div class="line"><span class="keyword">if</span> ( <span class="built_in">abs</span> ( randomDirection - <span class="built_in">abs</span> ( randomDirection + GetMotionVector ( i.uv + uv_offset ) - GetMotionVector ( i.uv ) - texelPosition ) ) &gt;= EPS )</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3>4.æ»¤æ³¢</h3>
<p>å¯ä»¥åœ¨SSAOçš„æ»¤æ³¢åŸºç¡€ä¸ŠåŠ ä¸Šæ”¶æ•›åº¦çš„æ¡ä»¶. æ”¶æ•›åº¦å®šä¹‰ä¸º:
$$
conv=min (n_{t}(p), n_{max}) / n_{max}
$$
æ”¶æ•›åº¦è¶Šå¤§, è¯´æ˜å½“å‰åƒç´ è¶Šä¸º&quot;å®‰å…¨&quot;, éšç€æ—¶é—´çš„æ”¹å˜è¶Šå°, å› æ­¤é‡‡æ ·ç³»æ•°ä¹Ÿè¶Šå¤§.</p>
<h2>Selective Temporal Filtering (STF)</h2>
<p>è¿™é¡¹æŠ€æœ¯åº”ç”¨åœ¨äº†BattleField3ä¸­. é¦–å…ˆå®ƒæ˜¯åŸºäºTSSAOçš„, ä¸åŒçš„æ˜¯å…¶AOè®¡ç®—æ–¹å¼: åœ¨å½“å‰å¸§çš„AOè´¡çŒ®å€¼å’Œå†å²æ•°æ®ä¸­é—´åšæ’å€¼.</p>
<p>è¿™æ ·åšå¸¦æ¥çš„ä¸€ä¸ªå°é—®é¢˜å°±æ˜¯&quot;è€åŒ–&quot; ---- æ—§çš„æ•°æ®ä¸èƒ½åŠæ—¶æ¸…ç†å‡ºå», è¿™å°±å¯¼è‡´åœºæ™¯ç§»åŠ¨æ¯”è¾ƒå¿«çš„æ—¶å€™, AO Bufferä¼šå­˜åœ¨é¬¼å½±çš„é—®é¢˜.</p>
<p>ä½†æ˜¯ä¸€ä¸ªæ›´ä¸ºä¸¥é‡çš„é—®é¢˜æ˜¯&quot;é—ªçƒ&quot; ---- BattleField3çš„åœºæ™¯ä¸­æœ‰å¤§é‡èŠ±è‰æ ‘æœ¨, æ ‘å¶çš„æ™ƒåŠ¨ä½¿å¾—å¤§é‡åƒç´ è¢«é¢‘ç¹æ£€æµ‹ä¸ºå¤±æ•ˆ, é‡æ–°è®¡ç®—AO, è¿™ä¸æœªå¤±æ•ˆçš„éƒ¨åˆ†æ„æˆäº†é²œæ˜çš„å¯¹æ¯”.</p>
<p>DICEçš„è§£å†³æ–¹æ¡ˆéå¸¸Trick: ä»–ä»¬å‘ç°å­˜åœ¨é¬¼å½±çš„åƒç´ å’Œå­˜åœ¨é—ªçƒçš„åƒç´ æ˜¯äº’æ–¥çš„. å› æ­¤ä»–ä»¬æƒ³åŠæ³•ç”„åˆ«è¿™ä¸¤ç§åƒç´ , å¹¶å¯¹äºå¯èƒ½äº§ç”Ÿé¬¼å½±çš„åƒç´ å…³æ‰Temporal Filtering. å› æ­¤è¿™é¡¹æŠ€æœ¯è¢«ç§°ä¸ºSelective Temporal Filtering.</p>
<p>å…·ä½“çš„æ–¹æ³•æ˜¯æ£€æµ‹è¿ç»­æ€§: å¯¹äºä»»ä½•ä¸€ä¸ªPixel, è¿ç»­åœ¨xæˆ–yæ–¹å‘é€‰æ‹©ä¸¤ä¸ªåƒç´ , åˆ¤æ–­è¿™ä¸‰ä¸ªåƒç´ çš„æ·±åº¦æ˜¯å¦è¿ç»­. å¦‚æœè¿ç»­åˆ™å¯èƒ½äº§ç”Ÿé¬¼å½±, å¦åˆ™å¯èƒ½äº§ç”Ÿé—ªçƒ.</p>
<p><img src="/image/essay1/11.png" alt="">
æœ€åå°†æ‰€æœ‰é—ªçƒçš„åƒç´ æŒ‰ç…§4x4æ”¾å¤§, åœˆå®šè¿›è¡ŒTemporal Filterçš„åŒºåŸŸ:
<img src="/image/essay1/12.png" alt="">
<img src="/image/essay1/13.png" alt=""></p>
<h2>åè®°</h2>
<p>SSAOåŸç†å¹¶ä¸å¤æ‚, åªæ˜¯åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ä¼šæœ‰å„ç§å„æ ·çš„Trickä»¥åº”å¯¹ä¸ªæ€§åŒ–çš„éœ€è¦. æ–‡ä¸­ä¸»è¦è®²è§£äº†SSAOçš„åŸºæœ¬åŸç†ä¸TSSAOçš„ä¼˜åŒ–åŸç†, å¹¶ä¸¾äº†BattleField3çš„STFä¸ºä¾‹.</p>
<h2>å¼•ç”¨</h2>
<p>Nehab, Sander, Lawrence, Tatarchuk, Isidoro. Accelerating Real-Time Shading with Reverse Reprojection Caching. In ACM SIGGRAPH/Eurographics Symposium on Graphics Hardware 2007.</p>
<p>Mattausch, Oliver, Daniel Scherzer, and Michael Wimmer. &quot;Highâ€Quality Screenâ€Space Ambient Occlusion using Temporal Coherence.&quot; Computer Graphics Forum. Vol. 29. No. 8. Blackwell Publishing Ltd, 2010.</p>
<p>BAVOIL L., SAINZ M.: Multi-layer dual-resolution screen-space ambient occlusion. In SIGGRAPH â€™09: SIGGRAPH 2009: Talks (New York, NY, USA, 2009), ACM, pp. 1â€“1. 3, 7</p>
<p>Screen space ambient occlusion. (2016, December 29). In Wikipedia, The Free Encyclopedia. Retrieved 19:24, January 28, 2017, from Screen space ambient occlusion</p>
<p>Bavoil, L., &amp; Sainz, M. (2008). Screen space ambient occlusion. NVIDIA developer information: http://developers. nvidia. com, 6.</p>

                <hr>
                
                <!-- å¤šè¯´ Share start -->
                <div class="ds-share"
                     style="text-align: right"
                     data-thread-key="2017/02/10/essay1/"
                     data-title="SSAOåŠå…¶ä¼˜åŒ–"
                     data-url="http://www.weymire.com/2017/02/10/essay1/"
                     data-images="http://www.weymire.com/2017/02/10/essay1/essay1.png"
                     data-content="æœ¬æ–‡åŒæ—¶ä¹Ÿå‘è¡¨åœ¨æˆ‘çš„çŸ¥ä¹ä¸“æ ä¸ŠğŸ˜„.
ä½œè€…ï¼šéŸ³é€Ÿé”®ç›˜çŒ«
é“¾æ¥ï¼šhttps://zhuanlan... | Weymire&#39;s Blog ">
                    <div class="ds-share-inline">
                        <ul class="ds-share-icons-16">
                            <li data-toggle="ds-share-icons-more"><a class="ds-more" href="#">åˆ†äº«åˆ°ï¼š</a></li>
                            <li><a class="ds-wechat flat" href="javascript:void(0);" data-service="wechat">å¾®ä¿¡</a></li>
                            <li><a class="ds-weibo flat" href="javascript:void(0);" data-service="weibo">å¾®åš</a></li>
                            <li><a class="ds-douban flat" href="javascript:void(0);" data-service="douban">è±†ç“£</a></li>
                        </ul>
                        <div class="ds-share-icons-more">
                        </div>
                    </div>
                    <hr>
                </div>
                <!-- å¤šè¯´ Share end-->
                

                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/2017/02/10/hello-world/" data-toggle="tooltip" data-placement="top"
                           title="Hello World">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                
                <!-- å¤šè¯´è¯„è®ºæ¡† start -->
                <div class="comment">
                    <div class="ds-thread"
                         data-thread-key="2017/02/10/essay1/"
                         data-title="SSAOåŠå…¶ä¼˜åŒ–"
                         data-url="http://www.weymire.com/2017/02/10/essay1/">
                    </div>
                </div>
                <!-- å¤šè¯´è¯„è®ºæ¡† end -->
                

                

            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-text">ä½•ä¸ºSSAO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-text">SSAOçš„å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">è®¡ç®—AO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">æ¨¡ç³Š/æ»¤æ³¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">ä¸ColorBufferæ··åˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-text">SSAOçš„é—®é¢˜ä¸ä¼˜åŒ–ç­–ç•¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">1. é‡‡æ ·å—çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">æ»¤æ³¢ä¸ç²¾ç¡®è®¡ç®—ä¹‹é—´çš„çŸ›ç›¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-text">TSSAO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">1. Reverse Reprojection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">2. æ–°çš„AOè®¡ç®—å…¬å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">3. æ£€æµ‹ä¸åˆæ³•åƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">4.æ»¤æ³¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-text">Selective Temporal Filtering (STF)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-text">åè®°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-text">å¼•ç”¨</span></a></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>

    </div>
</article>


<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
    // dynamic User by Hux
    var _user = 'yujingping';

    // duoshuo comment query.
    var duoshuoQuery = {short_name: _user};
    (function () {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->





<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                    <li>
                        <a target="_blank" href="https://twitter.com/ehazon">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/yu-jing-ping-64">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">çŸ¥</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/haojen">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/AlphaMistral">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Weymire 2017
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://www.weymire.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-91741512-1';
    var _gaDomain = 'auto';
    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>


<!-- Baidu Tongji -->

<script>
    var _baId = 'a7bea2767d4659bf7b7a4f62100a2a13';
    // Originial
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?" + _baId;
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','null','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="image/avatar.jpg"><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>

</html>
